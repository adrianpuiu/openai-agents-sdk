import { tool } from '@openai/agents';
import { z } from 'zod';

/**
 * {{TODO_DESCRIPTION}}
 *
 * TODO: Connect to your order management system
 * TODO: Implement proper error handling
 * TODO: Add authentication/authorization checks
 */
export const lookupOrder = tool({
  description: '{{DESCRIPTION}}',
  parameters: z.object({
    orderId: z.string().describe('{{PARAM_DESCRIPTION}}')
  }),
  execute: async ({ orderId }) => {
    // TODO: {{TODO_IMPLEMENTATION}}
    // Example: const order = await db.query('SELECT * FROM orders WHERE id = $1', [orderId]);

    console.log(`Looking up order: ${orderId}`);

    // Placeholder response - return JSON string
    return JSON.stringify({
      orderId,
      status: 'shipped',
      items: [],
      trackingNumber: '',
      orderDate: new Date().toISOString().split('T')[0],
      total: 0
    }, null, 2);
  }
});
